(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"showModal",function(){return x}),t.d(a,"hideModal",function(){return D}),t.d(a,"login",function(){return G}),t.d(a,"changeInput",function(){return H}),t.d(a,"initializeLogin",function(){return P}),t.d(a,"testConnect",function(){return U}),t.d(a,"default",function(){return z});var r={};t.r(r),t.d(r,"base",function(){return z}),t.d(r,"pender",function(){return M.penderReducer});var o,c,i=t(0),l=t.n(i),s=t(27),u=t.n(s),d=t(16),b=t(17),m=t(9),g=t(10),p=t(12),h=t(11),f=t(13),v=t(45),O=t.n(v),j=t(14),E=t.n(j),k=t(46),w=t.n(k),y=E.a.bind(w.a),C=function(e){var n=e.logged,t=e.onLoginClick;return l.a.createElement("header",{className:y("header")},l.a.createElement("div",{className:y("header-content")},l.a.createElement("div",{className:y("brand")},l.a.createElement(d.b,{to:"/"},"All That BTS")),l.a.createElement("div",{onClick:t,className:y("login")},n?"\ub85c\uadf8\uc544\uc6c3":"\ub85c\uadf8\uc778")))},I=t(18),N=t(48),A=t(108),L=t(107),T=t(24),M=t(21),S=t.n(M),B=t(33),_=t.n(B),x=(t(87),Object(A.a)("base/SHOW_MODAL")),D=Object(A.a)("base/HIDE_MODAL"),G=Object(A.a)("base/LOGIN",function(e){return _.a.get("/oauth2/authorization/"+e)}),H=Object(A.a)("base/CHANGE_INPUT"),P=Object(A.a)("base/INITIALIZE_LOGIN"),U=Object(A.a)("base/TEST_CONNECT",function(){return _.a.get("/facebook")}),W=Object(T.a)({modal:Object(T.a)({remove:!1,login:!1}),login:Object(T.a)({usernameOrEmail:"",password:"",error:!1}),signUp:Object(T.a)({username:"",email:"",password:""})}),z=Object(L.a)(Object(N.a)((o={},Object(I.a)(o,"base/SHOW_MODAL",function(e,n){var t=n.payload;return e.setIn(["modal",t],!0)}),Object(I.a)(o,"base/HIDE_MODAL",function(e,n){var t=n.payload;return e.setIn(["modal",t],!1)}),o),Object(M.pender)({type:"base/LOGIN",onSuccess:function(e,n){var t=n.payload.data.accessToken;return localStorage.setItem("accessToken",t),localStorage.logged=!0,e.set("login",W.get("login"))},onError:function(e,n){return e.setIn(["login","error"],!0).setIn(["login","password"],"")}}),(c={},Object(I.a)(c,"base/CHANGE_INPUT",function(e,n){var t=n.payload,a=t.name,r=t.value;return e.setIn(["login",a],r)}),Object(I.a)(c,"base/INITIALIZE_LOGIN",function(e,n){return e.set("loginModal",W.get("loginModal"))}),c)),W),K=t(15),J=t(5),Z=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).handleLoginClick=function(){var e=localStorage.logged,n=t.props,a=n.BaseActions;n.history;if(e)try{localStorage.removeItem("accessToken"),localStorage.logged="",window.location.reload()}catch(r){console.log(r)}else a.showModal("login"),a.initializeLogin()},t}return Object(f.a)(n,e),Object(g.a)(n,[{key:"render",value:function(){var e=this.handleLoginClick,n=(this.props.match,localStorage.logged);return l.a.createElement(C,{logged:n,onLoginClick:e})}}]),n}(i.Component),F=Object(K.b)(null,function(e){return{BaseActions:Object(J.b)(a,e)}})(Object(b.e)(Z)),R=E.a.bind(O.a),$=function(e){var n=e.children;return l.a.createElement("div",{className:R("page-template")},l.a.createElement(F,null),l.a.createElement("main",null,n))},q=t(35),Q=function(e){function n(){return Object(m.a)(this,n),Object(p.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(g.a)(n,[{key:"render",value:function(){return Object(q.a)(this),Object(q.a)(this.props),l.a.createElement("div",null,"Main Body")}}]),n}(i.Component),V=Object(K.b)(function(e){return{}},function(e){return{}})(Q),X=function(e){function n(){return Object(m.a)(this,n),Object(p.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(g.a)(n,[{key:"render",value:function(){return l.a.createElement($,null,l.a.createElement(V,null))}}]),n}(i.Component),Y=function(){return l.a.createElement("div",null,"NotFound")},ee=t(25),ne=t.n(ee),te=t(36),ae=t(50),re=t.n(ae),oe=t(51),ce=t.n(oe),ie=E.a.bind(ce.a),le=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={animate:!1},t.startAnimation=function(){t.setState({animate:!0}),setTimeout(function(){t.setState({animate:!1})},250)},t}return Object(f.a)(n,e),Object(g.a)(n,[{key:"componentDidUpdate",value:function(e,n){e.visible!==this.props.visible&&this.startAnimation()}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.visible,a=this.state.animate;if(!t&&!a)return null;var r=a&&(t?"enter":"leave");return l.a.createElement("div",null,l.a.createElement("div",{className:ie("gray-background")}),l.a.createElement("div",{className:ie("modal-wrapper")},l.a.createElement("div",{className:ie("modal",r)},n)))}}]),n}(i.Component),se=E.a.bind(re.a),ue=function(e){var n=e.visible,t=(e.password,e.error,e.onCancel),a=e.onLogin;e.onTestConnect;return l.a.createElement(le,{visible:n},l.a.createElement("div",{className:se("form")},l.a.createElement("div",{onClick:t,className:se("close")},"\xd7"),l.a.createElement("button",{name:"google",onClick:a,className:se("login-btn","google")},"\uad6c\uae00\ub85c \ub85c\uadf8\uc778"),l.a.createElement("button",{name:"facebook",onClick:a,className:se("login-btn","facebook")},"\ud398\uc774\uc2a4\ubd81\uc73c\ub85c \ub85c\uadf8\uc778"),l.a.createElement("button",{name:"kakao",onClick:a,className:se("login-btn","kakao")},"\uce74\uce74\uc624\ub85c \ub85c\uadf8\uc778")))},de=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).handleLogin=function(){var e=Object(te.a)(ne.a.mark(function e(n){var a,r,o;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,r=a.BaseActions,a.password,o=n.target.name,e.prev=2,e.next=5,r.login(o);case 5:r.hideModal("login"),localStorage.logged="true",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(n){return e.apply(this,arguments)}}(),t.testConnect=Object(te.a)(ne.a.mark(function e(){var n;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.BaseActions,e.prev=1,e.next=4,n.testConnect();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])})),t.handleCancel=function(){t.props.BaseActions.hideModal("login")},t.handleChange=function(e){var n=e.target.value;t.props.BaseActions.changePasswordInput(n)},t.handleKeyPress=function(e){"Enter"===e.key&&t.handleLogin()},t}return Object(f.a)(n,e),Object(g.a)(n,[{key:"render",value:function(){var e=this.handleLogin,n=this.handleCancel,t=this.handleChange,a=this.handleKeyPress,r=this.testConnect,o=this.props,c=o.visible,i=o.error,s=o.password;return l.a.createElement(ue,{onLogin:e,onCancel:n,onChange:t,onKeyPress:a,onTestConnect:r,visible:c,error:i,password:s})}}]),n}(i.Component),be=Object(K.b)(function(e){return{visible:e.base.getIn(["modal","login"]),password:e.base.getIn(["loginModal","password"]),error:e.base.getIn(["loginModal","error"])}},function(e){return{BaseActions:Object(J.b)(a,e)}})(de),me=function(){return l.a.createElement("div",null,l.a.createElement(b.c,null,l.a.createElement(b.a,{exact:!0,path:"/",component:X}),l.a.createElement(b.a,{component:Y})),l.a.createElement(be,null))},ge=Object(J.c)(r),pe=[S()()],he=J.d,fe=function(e){return Object(J.e)(ge,e,he(J.a.apply(void 0,pe)))}(),ve=function(){return l.a.createElement(K.a,{store:fe},l.a.createElement(d.a,null,l.a.createElement(me,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(104);u.a.render(l.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,n,t){},46:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},52:function(e,n,t){e.exports=t(105)}},[[52,1,2]]]);
//# sourceMappingURL=main.40b2bb07.chunk.js.map